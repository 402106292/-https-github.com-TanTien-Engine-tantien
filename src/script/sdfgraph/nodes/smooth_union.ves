import "blueprint.node" for Node
import "blueprint.node_function" for NodeFunction

var CODE = "
// from https://iquilezles.org/www/articles/distfunctions/distfunctions.htm
float smooth_union(float d1, float d2, float k) 
{
    float h = clamp(0.5 + 0.5 * (d2 - d1) / k, 0.0, 1.0);
    return mix(d2, d1, h) - k * h * (1.0 - h); 
}"

class SmoothUnion is Node
{
	init() 
	{
		super.init(SmoothUnion.name)

		this.node_func = NodeFunction(this, CODE, "smooth_union", [
			["k", 0.5],
		])
	}
}